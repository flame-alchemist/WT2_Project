<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>front page</title>
    </head>
    <body>
        <script>
            function requestsend()
            {
                var form = new FormData(document.getElementById('form'));
                var obj = {"name":form.get("name"), "email":form.get("emailID"), "password":form.get("password")};

                var JSONdata = JSON.stringify(obj);
                console.log(JSONdata);
                var xhr = new XMLHttpRequest();
                xhr.open("POST", "http://0.0.0.0:8080/api/v1/add_user", true);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.onreadystatechange = function(){
                    if (xhr.status === 201)     //&& xhr.readyState === 4)
                        alert("User added");
                    else
                        alert("User exists");
                };
                xhr.send(JSONdata);
                alert("Processing");
            }
        </script>
        <form id='form'  onsubmit="requestsend()" method="POST">
            Username: <input type="text" name="name">
            <br>
            Email: <input type="email" name="emailID">
            <br>
            Password: <input type="password" name="password" minlength="5">
            <br>
            <input type="submit" value="Sign-Up">
        </form>
    </body>
</html>
